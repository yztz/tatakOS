# Template

所有章节将以此为模板展开编写

## 如何创建一个新的章节

1. 切换到template分支（如果看到此readme，那么你大概率已经在这个分支了）
2. 使用`$ git checkout -b chapterX`创建并切换到新的章节分支（X为章节号）
3. 编辑`.vscode/chapter.json`，修改章节号以及描述信息
4. 开始编排章节内容，修改此README为章节指导说明
5. 添加实验仓库地址（不需要重复添加）：`$ git remote add lab ssh://git@gitlab.ji-sang.com:60022/op/lab-os-c.git`（注意，必须要有对仓库完整的读写权限）
6. 推送实验：`$ git push -u lab chapterX`，`-u`将自动将实验仓库设置为上游代码仓库，请勿往主仓库推送实验章节分支。

## 如何同步

随着迭代，肯定会出现不少修复bug的补丁，一两个章节还好，我们可以手动合并补丁，但是随着章节增多，重复工作将会大量提升。因此我们使用CI来帮助自动应用补丁。

每当在template模板分支提交一个修复后，我们必须使用push将template分支推送至主仓库，此时CI将会自动帮我们合并此次修改提交至所有章节分支。在合并的过程中，势必会出现冲突，我们可以在gitlab的CI界面看到合并冲突的分支，这些分支需要我们手动进行合并然后提交。